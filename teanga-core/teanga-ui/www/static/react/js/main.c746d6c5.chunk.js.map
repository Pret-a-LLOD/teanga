{"version":3,"sources":["components/ServiceNode.js","components/ServiceEdge.js","components/ServiceCard.js","components/SearchBar.js","components/ServiceForm.js","components/EdgeForm.js","components/TeangaNav.js","App.js","index.js"],"names":["ServiceNode","data","className","selected","type","position","label","style","borderRadius","CustomEdge","id","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","strokeWidth","stroke","arrowHeadType","markerEndId","edgePath","getBezierPath","markerEnd","getMarkerEnd","d","href","fontSize","startOffset","textAnchor","text","ServiceCard","name","key","dispatch","Card","border","marginLeft","marginRight","width","Body","Title","maxWidth","Button","variant","size","onClick","ACTIONS","ADD_NODE","SearchBar","services","input","useState","setSelected","MenuItem","Arrow","ArrowLeft","ArrowRight","menu","list","filter","service","includes","map","el","Menu","Container","InputGroup","Prepend","Text","FormControl","aria-label","aria-describedby","value","onChange","e","UPDATE_INPUT","target","arrowLeft","arrowRight","onSelect","ServiceForm","node","paths","selectedPath","methods","parameters","requestBody","rqBody_options","Object","keys","content","method_name","top","left","height","zIndex","background","overflowY","marginTop","UNSELECT_NODE","Form","Group","controlId","Label","Control","as","defaultValue","workflow","event","SELECT_FORM_VALUE","path_name","selectedMethod","parameter_obj","placeholder","marginBottom","EdgeForm","edge","operators","UNSELECT_EDGE","TeangaNav","Navbar","bg","fixed","expand","Brand","class","src","nodeTypes","special","edgeTypes","ServiceEdge","initialState","node_count","selected_nodeId","selected_edgeId","elements","SET_OPENAPI","ADD_EDGE","SELECT_NODE","SELECT_EDGE","REMOVE_SELECTED_NODE","reducer","state","action","new_state","i","openapi","payload","openapi_yamls","console","log","new_node","toString","x","y","concat","addEdge","params","source","field","indexOf","App","useReducer","useEffect","a","promises","fetch","url","then","response","openapi_obj","parseYAML","Promise","all","padding","onConnect","onElementClick","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c746d6c5.chunk.js","sourcesContent":["import React from 'react';\nimport { Handle } from 'react-flow-renderer';\n\nconst ServiceNode = ({ data }) => {\n  return (\n    <div className={data.selected ? \"flowchart-operator-new selected-node\" : \"flowchart-operator-new\"}\n         >\n      <Handle className=\"handle-left\" type=\"target\" position=\"left\" />\n      <div className=\"handle-title\">{data.label}</div>\n      <Handle\n        className=\"handle-right\"\n        type=\"source\"\n        position=\"right\"\n        style={{ borderRadius: 0 }}\n      />\n    </div>\n  );\n};\n\nexport default ServiceNode;\n","import React, { FC } from 'react';\nimport { EdgeProps, getBezierPath, getMarkerEnd } from 'react-flow-renderer';\n\nconst CustomEdge: FC<EdgeProps> = ({\n  id,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  style = {\n      strokeWidth: 10,\n      stroke: \"rgb(92, 184, 92)\" \n  },\n  data,\n  arrowHeadType,\n  markerEndId,\n}) => {\n  const edgePath = getBezierPath({ sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition });\n  const markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\n\n  return (\n    <>\n      <path id={id} style={style} className=\"react-flow__edge-path\" d={edgePath} markerEnd={markerEnd} />\n      <text>\n        <textPath href={`#${id}`} style={{ fontSize: '12px' }} startOffset=\"50%\" textAnchor=\"middle\">\n          {data.text}\n        </textPath>\n      </text>\n    </>\n  );\n};\n\nexport default CustomEdge;\n","import React from 'react';\nimport { Card , Button } from 'react-bootstrap'\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { ACTIONS } from '../App'\n\nfunction ServiceCard({ name, key, selected, dispatch }) {\n    return (\n        <Card border={selected ? \"danger\" : \"primary\"} \n              style={{ \n            marginLeft: \"0.5vw\",\n            marginRight: \"0.5vw\",\n            width: '15vw', \n            borderRadius: '10px'\n        }} >\n          <Card.Body>\n            <Card.Title\n                    style={{\n                        maxWidth: \"90%\",\n                        fontSize: \"10px\"\n                    }}>{name}</Card.Title>\n            <Button variant=\"primary\"\n                    size=\"sm\"\n                    style={{\n                        maxWidth: \"90%\",\n                        fontSize: \"10px\"\n                    }} \n                    onClick={()=> {\n                        dispatch({\n                            \"type\": ACTIONS.ADD_NODE,\n                            \"payload\": {\n                                \"name\": name\n                            }\n                        })\n                    }}\n        >Add to Workflow</Button>\n          </Card.Body>\n        </Card>\n    )\n}\n\nexport default ServiceCard\n\n\n","import React, { useState } from 'react'\nimport ServiceCard from './ServiceCard' \nimport ScrollMenu from 'react-horizontal-scrolling-menu';\nimport { InputGroup, FormControl } from 'react-bootstrap'; \nimport { Container } from 'react-bootstrap'\nimport './SearchBar.css'\nimport { ACTIONS } from '../App'\n\n\nfunction SearchBar ({ services, input, dispatch }){\n        const [selected, setSelected] = useState(services[0][\"name\"])\n        // list of items\n        const MenuItem = ({text, selected}) => {\n          return <ServiceCard\n            key={text}\n            name={text}\n            className=\"menu-item\"\n            selected={selected}\n            dispatch={dispatch}\n            ></ServiceCard>;\n        };\n        // All items component\n        // Important! add unique key\n        const Menu = (list, selected) =>\n          list.filter( (service) => service[\"name\"].includes(input)).map(el => {\n            const {name} = el;\n\n            return <MenuItem /*onClick={() => handleClick(name) }*/ text={name} key={name} selected={selected} />;\n        });\n        const Arrow = ({ text, className }) => {\n              return (\n                <div style={{\n                    border: \"2px solid black\"\n                }}\n                  className={className}\n                >{text}</div>\n              );\n            };\n        const ArrowLeft = Arrow({ text: '<', className: 'arrow-prev' });\n        const ArrowRight = Arrow({ text: '>', className: 'arrow-next' });\n        function onSelect(key){\n                setSelected(key);\n        }\n        const menu =  Menu(services, selected); \n\n        return (\n            <Container>\n            <InputGroup size=\"sm\" className=\"mb-3\">\n                <InputGroup.Prepend>\n                  <InputGroup.Text id=\"inputGroup-sizing-sm\">Search : </InputGroup.Text>\n                </InputGroup.Prepend>\n                <FormControl \n                    className=\"searchbar-input\"\n                    aria-label=\"Small\" \n                    aria-describedby=\"inputGroup-sizing-sm\" \n                    type=\"text\" \n                    value={input} \n                    onChange={(e) => \n                        dispatch({\n                            \"type\": ACTIONS.UPDATE_INPUT,\n                            \"payload\": {\n                                \"input\": e.target.value \n                            }\n                        })\n                    }\n            />\n          </InputGroup>\n            <ScrollMenu\n              style={{\n                  width: \"100%\"\n              }}\n              data={menu}\n              arrowLeft={ArrowLeft}\n              arrowRight={ArrowRight}\n              selected={selected}\n              onSelect={onSelect}\n            />\n            </Container>\n        )\n}\nexport default SearchBar;\n","import { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { ACTIONS } from '../App'\n\nfunction ServiceForm({ node, \n                       selectedPath,\n                       paths,\n                       methods, \n                       parameters,\n                       requestBody,\n                       dispatch }){\n    if(requestBody){\n        var rqBody_options= Object.keys(requestBody.content).map((method_name) => <option>{method_name}</option>)\n    }\n    else{\n        var rqBody_options= []\n    }\n    /*\n    const paths = Object.keys(node.data.openapi.paths)\n                        .map((path_name) => path_name)\n    const [selectedPath, setSelectedPath] = useState(paths[0]);\n    console.log(\"------------------SP-------------->\");\n    console.log(selectedPath)\n\n    const methods = Object.keys(node.data.openapi.paths[selectedPath])\n    const [selectedMethod, setSelectedMethod] = useState(methods[0]);\n    const parameters = node.data.openapi.paths[selectedPath][selectedMethod][\"parameters\"];\n    */\n\n    return (<div\n            style={{\n                position: \"fixed\",\n                top: \"50px\",\n                left: \"0\",\n                height: \"100%\",\n                width: \"30%\",\n                zIndex: 999, \n                border: \"2px solid black\",\n                background: \"white\",\n                overflowY: \"auto\"\n            }}\n        >\n        <h3> { node.data.label } </h3>\n        <Button \n            variant=\"primary\" \n            type=\"submit\"\n            style={{\n                marginTop: \"-70px\",\n                marginLeft: \"100%\"\n            }}\n            onClick={ () => dispatch({\n                \"type\": ACTIONS.UNSELECT_NODE,\n                \"payload\":{\n                    \"id\": node.id\n                }\n            })\n           }\n        ><AiFillCloseCircle/></Button>\n        <Form>\n            <Form.Group className=\"service-leftbar-group\" \n                        controlId=\"exampleForm.ControlSelect1\">\n                <Form.Label>Select an Endpoint</Form.Label>\n            <Form.Control as=\"select\"\n                defaultValue={node.workflow.selectedPath}\n                onChange={(event)=> dispatch({\n                                        \"type\": ACTIONS.SELECT_FORM_VALUE,\n                                        \"payload\": {\n                                            \"field\":\"selectedPath\",\n                                            \"value\":event.target.value\n                                        }\n                                        })\n                         }\n                >\n                {paths.map((path_name) => <option>{path_name}</option>)}\n            </Form.Control>\n          </Form.Group>\n            <Form.Group className=\"service-leftbar-group\" \n                        controlId=\"exampleForm.ControlSelect2\">\n                <Form.Label>Select an Request method</Form.Label>\n            <Form.Control as=\"select\"\n                defaultValue={node.workflow.selectedMethod}\n                onChange={(event)=> dispatch({\n                                        \"type\": ACTIONS.SELECT_FORM_VALUE,\n                                        \"payload\": {\n                                            \"field\":\"requestBody\",\n                                            \"value\":event.target.value\n                                        }\n                                        })\n                         }\n             >\n            {methods.map((method_name) => <option>{method_name}</option>)}\n            </Form.Control>\n          </Form.Group>\n          { requestBody ? \n            <Form.Group className=\"service-leftbar-group\" \n                        controlId=\"exampleForm.ControlSelect2\">\n                <Form.Label>Select a Request Body </Form.Label>\n            <Form.Control as=\"select\"\n                onChange={(event)=> dispatch({\n                                        \"type\": ACTIONS.SELECT_FORM_VALUE,\n                                        \"payload\": {\n                                            \"field\":\"selectedMethod\",\n                                            \"value\":event.target.value\n                                        }\n                                        })\n                         }\n\n             >\n            {rqBody_options}\n            </Form.Control>\n          </Form.Group>\n                            : ''\n          }\n          <h3> Parameters </h3>\n          <Form.Group className=\"service-leftbar-group\" >\n            {parameters.map((parameter_obj) =>\n                <>\n                <Form.Label>{parameter_obj[\"name\"]} ({parameter_obj[\"required\"] ? \"required\" : \"optional\"}) </Form.Label>\n                <Form.Control \n                    type=\"text\" \n                    defaultValue={node.workflow[parameter_obj[\"name\"]] ? node.workflow[parameter_obj[\"name\"]]  :\"Enter parameter value\"} \n                    placeholder=\"Enter parameter value\" \n                    onChange={(event)=> dispatch({\n                                            \"type\": ACTIONS.SELECT_FORM_VALUE,\n                                            \"payload\": {\n                                                \"field\":parameter_obj[\"name\"],\n                                                \"value\":event.target.value\n                                            }\n                                            })\n                             }\n                />\n                </>)}\n          </Form.Group>\n\n        </Form>\n         <Button \n            className=\"service-leftbar-button\"\n            variant=\"primary\" \n            type=\"submit\"\n            style={{\n                marginBottom: \"100px\"\n            }}\n            onClick={(e) => dispatch({\n                                \"type\":ACTIONS.UNSELECT_NODE, \n                                \"payload\":{\n                                    \"id\": node.id\n                                }\n                            })\n            }\n        >\n       Save Inputs \n        </Button>\n        </div>\n    )\n}\n\nexport default ServiceForm;\n","import { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { ACTIONS } from '../App'\n\nfunction EdgeForm({ edge, \n                    operators,\n                    dispatch }){\n    return (<div\n            style={{\n                position: \"fixed\",\n                top: \"70px\",\n                left: \"0\",\n                height: \"100%\",\n                width: \"30%\",\n                zIndex: 999, \n                border: \"2px solid black\",\n                background: \"white\",\n                overflowY: \"auto\"\n            }}\n        >\n        <h3> { edge.data.text } </h3>\n        <Form>\n            <Form.Group className=\"service-leftbar-group\" \n                        controlId=\"exampleForm.ControlSelect1\">\n                <Form.Label>Select an Endpoint</Form.Label>\n            <Form.Control as=\"select\"\n                >\n                {operators.map((path_name) => <option>{path_name}</option>)}\n            </Form.Control>\n          </Form.Group>\n        </Form>\n         <Button \n            className=\"service-leftbar-button\"\n            variant=\"primary\" \n            type=\"submit\"\n            style={{\n                marginBottom: \"100px\"\n            }}\n            onClick={(e) => dispatch({\n                                \"type\": ACTIONS.UNSELECT_EDGE,\n                                \"payload\":{\n                                    \"id\": edge.id\n                                }\n                            })\n            }\n        >\n       Save Inputs \n        </Button>\n        </div>\n    )\n}\n\nexport default EdgeForm;\n","import Navbar from 'react-bootstrap/Navbar'\nfunction TeangaNav() {\n  return (\n  <Navbar bg=\"dark\" \n          variant=\"dark\"\n          fixed=\"top\"\n          expand=\"lg\"\n          style={{\"height\": \"50px\"}}\n      >\n    <Navbar.Brand href=\"#home\">\n        <a class=\"navbar-brand\" style={{\"position\":\"fixed\",\"left\":\"5%\",\"marginTop\":\"-25px\"}} href=\"../platform\">\n            <img class=\"pull-left\" src=\"/static/images/teanga-logo-white.svg\" height=\"40\"/> &nbsp;\n            <span class=\"name\"><span class=\"beta\">MVP</span></span>\n        </a>\n    </Navbar.Brand>\n  </Navbar>)\n}\n\n\nexport default TeangaNav;\n\n","import React, { useReducer, useEffect } from 'react';\nimport ReactFlow , { addEdge, Controls, ControlButton } from 'react-flow-renderer';\nimport './App.css';\nimport ServiceNode from './components/ServiceNode';\nimport ServiceEdge from './components/ServiceEdge';\nimport SearchBar from './components/SearchBar';\nimport ServiceForm from './components/ServiceForm';\nimport EdgeForm from './components/EdgeForm';\nimport TeangaNav from './components/TeangaNav';\nimport { Button } from 'react-bootstrap'\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { parse as parseYAML, stringify } from 'yaml'\n\nconst nodeTypes = {\n  special: ServiceNode,\n};\n\nconst edgeTypes = {\n  special: ServiceEdge,\n};\n\n\n\nconst initialState = {\n    node_count: 0,\n    input: \"\",\n    selected_nodeId: \"\",\n    selected_edgeId: \"\",\n    selectedPath: \"\",\n    selectedMethod: \"\",\n    methods: [],\n    paths: [],\n    requestBody: {},\n    services : [ \n                        {\n                            \"name\":\"dummy teanga\",\n                            \"url\":\"https://raw.githubusercontent.com/berstearns/personal/main/dummy.yaml\"\n                        },\n                        {\n                            \"name\":\"dkpro\",\n                            \"url\": \"https://raw.githubusercontent.com/berstearns/personal/main/dkpro.yaml\"\n                        },\n                        {\n                            \"name\":\"naisc\",\n                            \"url\":\"https://raw.githubusercontent.com/berstearns/personal/main/naisc.yaml\"\n                        }\n                    ],\n    operators : [\"wait\",\"pass\",\"forEach\"],\n    elements: [\n    /*\n      {\n        id: '1',\n        type: 'special', // input node\n        data: { label: 'Input Node' },\n        position: { x: 250, y: 25 },\n      },\n       animated edge\n      { id: 'e1-2', source: '1', target: '2', animated: true, style:{background:\"red\"}},\n      { id: 'e2-3', source: '2', target: '3' }\n      */\n  ]\n}\n\nexport const ACTIONS = {\n    SET_OPENAPI: \"set-openapi\",\n    UPDATE_INPUT : \"update-input\",\n    ADD_NODE: \"add-node\",\n    ADD_EDGE: \"add-edge\",\n    SELECT_NODE: \"select-node\",\n    UNSELECT_NODE: \"unselect-node\",\n    SELECT_EDGE: \"select-edge\",\n    REMOVE_SELECTED_NODE: \"remove-selected-node\",\n    SELECT_FORM_VALUE: \"select-form-value\"\n}\n\nfunction reducer(state, action) {\n    switch(action.type){\n        case ACTIONS.SET_OPENAPI: \n            var new_state = {\n                ...state,\n                services: state.services.map((service, i) => {\n                    return {\n                        ...service,\n                        openapi: action.payload.openapi_yamls[i]\n                    }\n                })\n            }\n            console.log(new_state)\n            return new_state \n        case ACTIONS.UPDATE_INPUT:\n            return {\n                ...state,\n                input: action.payload.input\n            }\n        case ACTIONS.ADD_NODE:\n            var openapi = state.services\n                            .filter(\n                            (service) => service.name === action.payload.name\n                            )[0][\"openapi\"]\n            var paths = Object.keys(openapi.paths)\n                                .map((path_name) => path_name)\n            var selectedPath = paths[0]\n            var methods = Object.keys(openapi.paths[selectedPath])\n            var selectedMethod = methods[0];\n            var parameters = openapi.paths[selectedPath][selectedMethod][\"parameters\"];\n            var requestBody = openapi.paths[selectedPath][selectedMethod][\"requestBody\"]; \n            var new_node = {\n                id: (state.node_count + 1).toString(),\n                type: 'special',\n                data: { \n                    label: action.payload.name, \n                    selected: false,\n                    openapi: openapi\n                },\n                workflow: {\n                    selectedPath: selectedPath, \n                    selectedMethod: selectedMethod\n                },\n                position: { x: 50, y: 50 },\n              }\n            var new_state = {\n                ...state,\n                node_count: state.node_count + 1,\n                elements: state.elements.concat(new_node)\n            }\n            console.log(new_state)\n            return new_state \n\n        case ACTIONS.ADD_EDGE:\n            var [n1,n2,edge] = addEdge(\n                    action.payload.params,\n                    state.elements\n                )\n            var new_state = {\n                ...state,\n                elements: state.elements.concat(edge)\n            }\n            console.log(new_state)\n            return new_state \n\n        case ACTIONS.SELECT_EDGE:\n            var new_state = {\n                ...state,\n                selected_edgeId: action.payload.id,\n                elements: state.elements.map((el) => {\n                    if(el.id === action.payload.id){\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: !el.data.selected\n                            }\n                        }\n                    }\n                    else {\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: false\n                            }\n                        }\n                    }\n                })\n            }\n            console.log(new_state);\n            return new_state \n\n        case ACTIONS.UNSELECT_EDGE:\n            var new_state = {\n                ...state,\n                selected_edgeId: \"\", \n                elements: state.elements.map((el) => {\n                    if(el.id === action.payload.id){\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: false\n                            }\n                        }\n                    }\n                    else {\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: false\n                            }\n                        }\n                    }\n                })\n            }\n            return new_state \n\n\n        case ACTIONS.SELECT_NODE:\n            var selected_nodeId = state.selected_nodeId == action.payload.id ? '' : action.payload.id \n            console.log(selected_nodeId)\n            if(selected_nodeId !== ''){\n                var node = state.elements.filter((node)=> node.id === selected_nodeId)[0]\n                var paths = Object.keys(node.data.openapi.paths)\n                                    .map((path_name) => path_name)\n                var selectedPath = node.workflow.selectedPath\n                var methods = Object.keys(node.data.openapi.paths[selectedPath])\n                var selectedMethod = node.workflow.selectedMethod\n                var parameters = node.data.openapi.paths[selectedPath][selectedMethod][\"parameters\"];\n                var requestBody = node.data.openapi.paths[selectedPath][selectedMethod][\"requestBody\"] ? node.data.openapi.paths[selectedPath][selectedMethod][\"requestBody\"] : ''  ; \n            }\n            else{\n                var paths= []\n                var selectedPath= \"\"\n                var methods= []\n                var selectedMethod= \"\"\n                var parameters = []\n                var requestBody = {}\n                \n            }\n            var new_state = {\n                ...state,\n                selected_nodeId: selected_nodeId ,\n                selectedPath: selectedPath,\n                methods: methods,\n                selectedMethod: selectedMethod,\n                paths: paths,\n                parameters: parameters,\n                requestBody: requestBody,\n                elements: state.elements.map((el) => {\n                    if(el.id === action.payload.id){\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: !el.data.selected\n                            }\n                        }\n                    }\n                    else {\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: false\n                            }\n                        }\n                    }\n                })\n            }\n            console.log(new_state);\n            return new_state \n\n        case ACTIONS.UNSELECT_NODE:\n            var new_state = {\n                ...state,\n                selected_nodeId: \"\", \n                selectedPath: \"\",\n                selectedMethod: \"\",\n                methods: [],\n                paths: [],\n                elements: state.elements.map((el) => {\n                    if(el.id === action.payload.id){\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: false\n                            }\n                        }\n                    }\n                    else {\n                        return {\n                            ...el,\n                            data : {\n                                ...el.data,\n                                selected: false\n                            }\n                        }\n                    }\n                })\n            }\n            return new_state \n\n        case ACTIONS.REMOVE_SELECTED_NODE:\n            var new_state = {\n                ...state,\n                selected_nodeId: '',\n                elements: state.elements.filter((el) => {\n                    if(el.id === action.payload.id){\n                        return false;\n                    }\n                    else if(el.source === action.payload.id || el.target === action.payload.id){\n                        return false\n                    }\n                    else{\n                        return true;\n                    }\n                })\n            }\n            return new_state\n        case ACTIONS.SELECT_FORM_VALUE:\n            var selected_nodeId = state.selected_nodeId \n            var new_node = state.elements.filter((node)=> node.id === selected_nodeId)[0]\n            var paths = Object.keys(new_node.data.openapi.paths)\n                                .map((path_name) => path_name)\n            var selectedPath = action.payload.field == \"selectedPath\" ?\n                                                        action.payload.value :  \n                                                        state.selectedPath\n            var methods = Object.keys(new_node.data.openapi.paths[selectedPath])\n            if(action.payload.field == \"selectedMethod\"){\n                var selectedMethod = action.payload.value; }\n            else {\n                if(methods.indexOf(state.selectedMethod) !== -1)\n                { var selectedMethod = state.selectedMethod }\n                else{ var selectedMethod = methods[0] }\n            }\n            var parameters = new_node.data.openapi.paths[selectedPath][selectedMethod][\"parameters\"];\n\n            if([\"selectedPath\",\"selectedMethod\"].indexOf(action.payload.field) === -1)\n              { new_node.workflow[action.payload.field] =  action.payload.value; }\n            else\n              { new_node.workflow = { ...new_node.workflow, selectedPath: selectedPath, selectedMethod: selectedMethod } }\n            var new_state = {\n                ...state,\n                elements: state.elements.map((node) =>{ \n                    if(node.id === selected_nodeId){ return new_node }\n                    else { return node }\n                }),\n                selectedPath: selectedPath,\n                methods: methods,\n                selectedMethod: selectedMethod,\n                parameters: parameters\n            }\n            console.log(new_state)\n            return new_state\n        default:\n            return state\n    }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState) \n  useEffect(\n      async () => {\n        const promises = state.services.map( async (service) => { \n            const openapi = await fetch(service.url).then(response => \n                                                          response.text()) \n            const openapi_obj =  parseYAML(openapi)\n            return openapi_obj\n        })\n       const openapi_yamls = await Promise.all(promises)\n       dispatch({\n           \"type\": ACTIONS.SET_OPENAPI,\n           \"payload\":{\n               \"openapi_yamls\": openapi_yamls\n           }\n       })\n      },[])\n\n  const onConnect = (params) => dispatch({\n                                    'type':ACTIONS.ADD_EDGE,\n                                    'payload': {\n                                        \"params\": {\n                                            ...params,\n                                            \"type\": \"special\",\n                                            \"data\": {\n                                                    \"text\":\"wait\"\n                                                    }\n                                                  }\n                                    }\n                                })\n  const onElementClick = (event, element) => {\n      if(element.source){\n          dispatch({ \"type\": ACTIONS.SELECT_EDGE,\n                     \"payload\": {\n                        \"id\": element.id\n                    }});\n      }\n      else if(element.id){\n          dispatch({ \"type\": ACTIONS.SELECT_NODE,\n                     \"payload\": {\n                        \"id\": element.id\n                    }});\n      }\n  }\n  return (\n      <>\n      <TeangaNav />\n      <div style={{\n          width: \"100%\"\n      }}>\n      <h3 style={{\"display\":\"inline-block\",\"margin-left\":\"5%\",\"margin-top\":\"5%\"}}> Build a workflow from the Flow Diagram </h3>\n            <Button variant=\"primary\"\n                    size=\"lg\"\n                    style={{\n                        maxWidth: \"90%\",\n                        fontSize: \"10px\",\n                        marginLeft: \"30%\"\n                    }} \n                    onClick={()=> {\n                        dispatch({\n                            \"type\": ACTIONS.ADD_NODE,\n                            \"payload\": {\n                            }\n                        })\n                    }}\n        >Create Workflow</Button>\n      </div>\n      { state.selected_nodeId ? <ServiceForm \n                                    node={state.elements.filter((node)=> node.id === state.selected_nodeId)[0]}\n                                    dispatch={dispatch}\n                                    selectedPath={state.selectedPath}\n                                    paths={state.paths}\n                                    methods={state.methods} \n                                    selectedMethod={state.selectedMethod}\n                                    parameters={state.parameters}\n                                    requestBody={state.requestBody}\n          ></ServiceForm> \n                              : '' }\n      { state.selected_edgeId ? <EdgeForm \n                                    edge={state.elements.filter((node)=> node.id === state.selected_edgeId)[0]}\n                                    operators={state.operators}\n                                    dispatch={dispatch}\n          ></EdgeForm> \n                              : '' }\n      <div style={{\n          background: \"white\",\n          border: \"2px solid black\",\n          padding: \"5% 5% 5% 5%\",\n          width: \"90%\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          marginTop: \"3%\"\n      }}>\n              <SearchBar services={state.services} \n                       dispatch={dispatch}\n                       input={state.input}\n              ></SearchBar>\n              <div id=\"chart_area\">\n\n                    <ReactFlow \n                        elements={state.elements} \n                        onConnect={onConnect}\n                        onElementClick={onElementClick}\n                        nodeTypes={nodeTypes}\n                        edgeTypes={edgeTypes}\n                        > \n                        <Controls style={{\n                            marginLeft:\"95%\" \n                        }}>\n                            <ControlButton onClick={() => dispatch({\n                                \"type\":ACTIONS.REMOVE_SELECTED_NODE,\n                                \"payload\": {\n                                    \"id\": state.selected_nodeId\n                                }\n                            })\n                            }>\n                              <AiFillCloseCircle/>\n                            </ControlButton>\n                        </Controls>\n                    </ReactFlow>\n              </div>\n      </div>\n      </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}